import pytest,sys,os
from pathlib import Path
sys.path.insert(0, str(Path(__file__).parent.parent.parent.parent))
print(str(Path(__file__).parent.parent.parent.parent))
from httprunner import HttpRunner, Config, Step, Parameters,RunTestCase
from api.app.goodsList import goodsList
from api.app.goodsListAll import goodsListAll
from api.app.getVocationalCourseList import getVocationalCourseList

class Test_all_goods_list(HttpRunner):
    @pytest.mark.parametrize("param",Parameters({"title-salesType-goodsType-message":"${salesType_goodsType()}"}))
    def test_start(self,param):
        super().test_start(param)
    config = (
        Config("智米商城branner")
            .verify(False)
            .variables(**{
                            "pageSize": "20",
                            "pageNum": "1",
                            "createResource": "2",
                         }
                       )
    )
    teststeps = [
        Step(RunTestCase("智米商城-商品列表").call(goodsList)),
        Step(RunTestCase("智米商城-所有商品").call(goodsListAll)),
        Step(RunTestCase("智米商城-培训课程列表").call(getVocationalCourseList)),

    ]
if __name__ == '__main__':
    Test_all_goods_list().test_start()